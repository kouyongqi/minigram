<!--index.wxml-->
<view class="nav-bar">
  <text class="nav-title">åˆ·é¢˜åŠ©æ‰‹</text>
</view>

<scroll-view class="main-content" scroll-y type="list" enhanced="true" bounces="true" show-scrollbar="false">
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card">
    <view class="user-info-header">
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="user-info-detail">
        <view class="user-name-badge">
          <text class="user-name">{{userInfo.nickName || 'æœªç™»å½•'}}</text>
          <text class="user-badge">é«˜ä¸­</text>
        </view>
        <text class="user-study-days">å·²åšæŒå­¦ä¹  {{studyDays}} å¤©</text>
      </view>
      <view class="user-points">
        <text>ğŸ”¥</text>
        <text class="points-value">{{points}}</text>
      </view>
    </view>
    
    <view class="user-stats">
      <view class="stat-item">
        <text class="stat-value">{{completedQuestions}}</text>
        <text class="stat-label">å·²åšé¢˜ç›®</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{favoriteQuestions}}</text>
        <text class="stat-label">æ”¶è—é¢˜ç›®</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{correctRate}}%</text>
        <text class="stat-label">æ­£ç¡®ç‡</text>
      </view>
    </view>
  </view>

  <!-- å­¦ç§‘åˆ†ç±» -->
  <view class="section-title">å­¦ç§‘åˆ†ç±»</view>
  <view class="subject-grid">
    <view class="subject-card subject-1" bindtap="navigateToSubject" data-subject="1">
      <view class="subject-title">ç§‘ç›®ä¸€</view>
      <view class="subject-meta">1259é¢˜ Â· çƒ­é—¨</view>
    </view>
    <view class="subject-card subject-2" bindtap="navigateToSubject" data-subject="2">
      <view class="subject-title">ç§‘ç›®äºŒ</view>
      <view class="subject-meta">864é¢˜ Â· è¿›è¡Œä¸­</view>
    </view>
  </view>

  <!-- å­¦ä¹ ç»Ÿè®¡ -->
  <view class="stats-card">
    <view class="stats-header">
      <view class="stats-title">
        <text class="stats-icon">ğŸ“ˆ</text>
        <text>å­¦ä¹ ç»Ÿè®¡</text>
      </view>
    </view>
    
    <view class="stats-tabs">
      <view class="stats-tab {{activeTab === 'week' ? 'active' : ''}}" bindtap="switchStatsTab" data-tab="week">æœ¬å‘¨</view>
      <view class="stats-tab {{activeTab === 'month' ? 'active' : ''}}" bindtap="switchStatsTab" data-tab="month">æœ¬æœˆ</view>
      <view class="stats-tab {{activeTab === 'total' ? 'active' : ''}}" bindtap="switchStatsTab" data-tab="total">æ€»è®¡</view>
    </view>
    
    <view class="detailed-stats">
      <view class="stat-block">
        <text class="stat-block-value stat-blue">{{weeklyQuestions}}</text>
        <text class="stat-block-label">å·²å®Œæˆé¢˜ç›®</text>
      </view>
      <view class="stat-block">
        <text class="stat-block-value stat-green">{{studyHours}}<text class="unit">å°æ—¶</text></text>
        <text class="stat-block-label">å­¦ä¹ æ—¶é•¿</text>
      </view>
      <view class="stat-block">
        <text class="stat-block-value stat-yellow">{{weeklyRate}}%</text>
        <text class="stat-block-label">æ­£ç¡®ç‡</text>
      </view>
      <view class="stat-block">
        <text class="stat-block-value stat-purple">{{streak}}</text>
        <text class="stat-block-label">è¿ç»­å¤©æ•°</text>
      </view>
    </view>
  </view>
  
  <!-- åº•éƒ¨å®‰å…¨åŒºåŸŸå ä½ -->
  <view class="safe-area-bottom"></view>
</scroll-view>
